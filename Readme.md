# News Research Tool

## Overview

The News Research Tool is a Streamlit-based web application designed to help users gather, summarize, and analyze news articles from the web. It integrates OpenAI for text summarization and NewsAPI for fetching articles. The tool also allows users to process articles from URLs, store them in a FAISS vectorstore for efficient retrieval, and query them with natural language questions.

## Features

- **User Authentication:** Secure login using Streamlit Authenticator with hashed passwords.
- **NewsAPI Integration:** Fetch and display news articles based on user queries.
- **URL Processing:** Load, chunk, and embed article content from URLs into a FAISS vectorstore.
- **Question Answering:** Query the stored articles with natural language questions and receive summarized answers.
- **Historical Data Management:** Save, view, and export queries and their results for future reference.

## Project Structure

The project is organized into the following files:

1. `app.py`: The main Streamlit application file.
2. `auth_setup.py`: Handles user authentication setup.
3. `config.yaml`: Configuration file for cookie settings and preauthorized emails.
4. `vlangchain_config.py`: Manages the creation, saving, and loading of the FAISS vectorstore.

## Installation

1. **Clone the repository:**

    ```bash
    git clone https://github.com/yourusername/news-research-tool.git
    cd news-research-tool
    ```

2. **Create and activate a virtual environment:**

    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3. **Install the required dependencies:**

    ```bash
    pip install -r requirements.txt
    ```

4. **Set up environment variables:**

    Create a `.env` file in the project root and add the following variables:

    ```plaintext
    OPENAI_API_KEY=your_openai_api_key
    NEWS_API_KEY=your_newsapi_key
    ```

## Usage

### 1. User Authentication

- On launching the application, users must log in using the credentials defined in the `auth_setup.py` file.
- Authentication is handled through Streamlit Authenticator, and the user credentials are securely hashed and stored in a pickle file.

### 2. Fetch News Articles

- After logging in, users can enter a search query in the sidebar to fetch relevant news articles from NewsAPI.
- The application displays the fetched articles along with a summary generated by OpenAI.

### 3. Process URLs

- Users can input up to three URLs in the sidebar to process articles directly from the web.
- The application loads the article content, splits it into chunks, creates embeddings, and stores them in a FAISS vectorstore for efficient retrieval.

### 4. Ask Questions

- Users can enter natural language questions related to the processed articles.
- The application retrieves the most relevant content from the FAISS vectorstore and provides a summarized answer, including sources.

### 5. Historical Data Management

- Users can save their queries and results, view historical data, and export summaries to a CSV file.

## How It Works

### Process Flow

1. **User Authentication:**
   - The application loads the user credentials from a pickle file.
   - Users log in using their username and password.
   - Upon successful login, users can access the main features of the tool.

2. **NewsAPI Integration:**
   - Users enter a query to search for news articles.
   - The application sends a request to NewsAPI and displays the results.
   - Summaries of the articles are generated using OpenAI's language model.

3. **URL Processing:**
   - Users input URLs of articles they want to process.
   - The application loads the article content and splits it into smaller chunks.
   - These chunks are embedded using OpenAI Embeddings and stored in a FAISS vectorstore.

4. **Question Answering:**
   - Users ask questions about the processed articles.
   - The application retrieves relevant information from the FAISS vectorstore and generates a summarized answer.
   - The answer and sources are displayed on the main page.

5. **Historical Data Management:**
   - Queries and their results are saved in a JSON file.
   - Users can view historical queries and export them as CSV files for further analysis.

## Configuration

### `config.yaml`

This file contains configuration settings for the application:

- **cookie:** Settings for user session management.
- **preauthorized:** List of preauthorized email addresses for user access.

### `auth_setup.py`

This file handles the setup of user authentication, including password hashing and storage.

### `langchain_config.py`

This file contains functions for creating, saving, and loading the FAISS vectorstore used to store article embeddings.

## Run the Application

To run the application locally:

```bash
streamlit run app.py